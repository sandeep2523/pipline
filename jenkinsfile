 pipeline {
    agent any
    parameters {
        choice(choices: ['BUILD ', 'DEPLOY', 'TEST'], description: 'Please click on particular stage to run', name: 'STAGE')
    }
      stages {
        stage('BUILD') {
        when {
        expression {params.STAGE == 'BUILD'}
        }
            steps {
                 sh'''
                 #!/bin/bash
                 pwd
                 ls
                 echo "this is build stage"
                 git branch: 'main', url: 'https://github.com/sandeep2523/c-project-demo.git'
                 '''
                }
             }
         stage('DEPLOY') {
                when {
                     expression {params.STAGE == 'DEPLOY'}
                    }
                    steps {
                        sh'''
                        #!/bin/bash
                        pwd
                          ls
                        echo "this is deploy stage"
                        '''      
                    }
                }
        stage('TEST') {
               when {
                     expression {params.STAGE == 'TEST'}
                    }
            steps {
                        sh'''
                        #!/bin/bash
                        pwd
                        ls
                        echo "this is test stage"
                        '''
                   }
             }  

      }
}    
